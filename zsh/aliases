# Aliases that I always want available

alias ls='ls --color=auto'
alias la='ls -al'
alias ll='ls -l'

alias ungron='gron -u'

alias svim='sudo vim'
alias stail='sudo tail'
alias svs='sudo supervisorctl'

# Alias package managers to always use sudo
alias apt-get='sudo apt-get'
alias apt-cache='sudo apt-cache'
alias apt-file='sudo apt-file'
alias apt='sudo apt'
alias pacman='sudo pacman'

autoload -U zmv
alias mmv='noglob zmv -W'

# if hub is available, alias git to hub
if [[ -e `which hub 2>/dev/null` ]]; then
    alias git=hub
    compdef hub=git
fi

alias rmpyc='rm **/*.pyc'
alias ports='sudo lsof -i -P -sTCP:LISTEN'

alias gs='git st'
alias gar='git add -A "$(git root)"'
alias gci='git commit'
alias gd='git diff'
alias gl='git lg'
alias g='git'
alias gti='git'

alias npm='noglob npm'
alias bat='noglob bat'

alias docker-gc='docker run --rm -v /var/run/docker.sock:/var/run/docker.sock -v /etc:/etc spotify/docker-gc'

alias vim=nvim

# generates a random string, specify length as the first argument (default is
# 32)
function randstr() {
    cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w ${1:-32} | head -n 1
}

# everything is in my GOPATH so let's get some aliases to clone git
# repositories
function gc() {
    git clone git@github.com:$1 $HOME/Code/src/github.com/$1 "${@:2}"
}

function stash() {
    pushd > /dev/null
    git clone code.cfops.it:$1 $HOME/Code/src/code.cfops.it/$1 "${@:2}"
    cd $HOME/Code/src/code.cfops.it/$1
    git config --local user.email avidal@cloudflare.com
    popd > /dev/null
}

# some directory aliases so i can cd ~work
work=~/Code/src/code.cfops.it
personal=~/Code/src/github.com/avidal
: ~work ~personal
